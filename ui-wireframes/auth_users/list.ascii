```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HEADER                                                                         â”‚
â”‚  Fleet Admin                           [Today | 10d | 30d | 90d | ğŸ“…]   [ğŸ‘¤]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SIDE NAV     â”‚ USERS                                                           â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                                                                 â”‚
â”‚   Dashboard  â”‚ Users                                            [+ Add User]   â”‚
â”‚              â”‚                                                                 â”‚
â”‚   Vehicles   â”‚ KPI CARDS                                                       â”‚
â”‚   Drivers    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   Driver Docsâ”‚ â”‚ Total Users    â”‚ â”‚ Active Users   â”‚ â”‚ Admin Users    â”‚        â”‚
â”‚   Trips      â”‚ â”‚                â”‚ â”‚                â”‚ â”‚                â”‚        â”‚
â”‚   Telemetry  â”‚ â”‚      54        â”‚ â”‚      48        â”‚ â”‚       6        â”‚        â”‚
â”‚   Alerts     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚   Alert Rulesâ”‚                                                                 â”‚
â”‚   OBD Devicesâ”‚ FILTERS                                                         â”‚
â”‚   SIM Cards  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   Maintenanceâ”‚ â”‚ ğŸ” [Search by username, email, name, fleet...]             â”‚  â”‚
â”‚   Insurance  â”‚ â”‚ Role:     [All â–¾]      Status:    [All â–¾]                  â”‚  â”‚
â”‚   Dashcams   â”‚ â”‚ Group:     [All â–¾]                            [Apply]     â”‚  â”‚
â”‚   Firmware   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚   Analytics  â”‚                                                                 â”‚
â”‚   Driver Logsâ”‚ USERS TABLE                                        [â–¢ Select All]â”‚
â”‚   Performanceâ”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   Settings   â”‚ â”‚ â–¢  â”‚ Username â”‚ Name       â”‚ Role    â”‚ Fleet    â”‚Statusâ”‚ Last    â”‚ â”‚
â”‚ â–¶ Users      â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚              â”‚ â”‚ â–¢  â”‚ admin    â”‚ Admin User â”‚ Admin   â”‚ All      â”‚Activeâ”‚ Now     â”‚ â”‚
â”‚              â”‚ â”‚ â–¢  â”‚ sjohnson â”‚ S. Johnson â”‚ Fleet   â”‚ Acme     â”‚Activeâ”‚ 1h ago  â”‚ â”‚
â”‚              â”‚ â”‚ â–¢  â”‚ jdoe     â”‚ Jane Doe   â”‚ Driver  â”‚ Acme     â”‚Activeâ”‚ 3h ago  â”‚ â”‚
â”‚              â”‚ â”‚ â–¢  â”‚ akhan    â”‚ Amir Khan  â”‚ Driver  â”‚ Acme     â”‚Activeâ”‚ 5h ago  â”‚ â”‚
â”‚              â”‚ â”‚ â–¢  â”‚ rsharma  â”‚ R. Sharma  â”‚ Fleet   â”‚ TrustLog â”‚Activeâ”‚ 1d ago  â”‚ â”‚
â”‚              â”‚ â”‚ â–¢  â”‚ jpatel   â”‚ J. Patel   â”‚ Manager â”‚ TrustLog â”‚Activeâ”‚ 2d ago  â”‚ â”‚
â”‚              â”‚ â”‚ â–¢  â”‚ msingh   â”‚ M. Singh   â”‚ Driver  â”‚ Acme     â”‚Lockedâ”‚ 15d ago â”‚ â”‚
â”‚              â”‚ â”‚ â–¢  â”‚ dlee     â”‚ David Lee  â”‚ Driver  â”‚ FastFlt  â”‚Activeâ”‚ 8h ago  â”‚ â”‚
â”‚              â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚              â”‚                                                                 â”‚
â”‚              â”‚ ACTIONS                                                         â”‚
â”‚              â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚              â”‚ â”‚ [Bulk Actions â–¾] [Export]                   Page 1/3 [â—€][â–¶]â”‚  â”‚
â”‚              â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Implementation Guide

### Data Sources

#### KPI Cards Section
- **API Endpoint**: `GET /api/users/users/statistics/`
- **Fields Used**:
  - `total_users` - Total number of user accounts
  - `active_users` - Number of active users with is_active=true
  - `admin_users` - Users with admin privileges or is_staff=true

#### Filters
- **Search Field**:
  - **API Parameter**: `search=<term>`
  - **Implementation**: Searches username, email, first_name, last_name, profile.phone_number, fleet
  - **Note**: This is the primary way to filter by fleet information
  
- **Role Filter**:
  - **API Parameter**: `profile__role=OEM_ADMIN|FLEET_ADMIN|FLEET_USER|DRIVER|TECHNICIAN`
  - **Values**: All, OEM_ADMIN, FLEET_ADMIN, FLEET_USER, DRIVER, TECHNICIAN
  
- **Status Filter**:
  - **API Parameter**: `is_active=true|false`
  - **Values**: All, Active, Inactive
  
- **Group Filter**:
  - **API Parameter**: `exclude_group_id={id}` (helper to exclude users in a group)
  - **API for Dropdown**: `GET /api/users/groups/`
  
- **Behind the Scenes**:
  - **Fleet Filtering**: `profile__fleet_operator={id}` parameter still supported by API but accessed through search
  - **Search Implementation**: Server-side search now includes fleet operator name and ID

#### Users Table
- **API Endpoint**: `GET /api/users/users/`
- **Query Parameters**: All applied filters
- **Pagination**: `page` and `page_size` parameters
- **Columns**:
  - Checkbox for selection
  - Username
  - Name (first_name + last_name)
  - Role (profile.role)
  - Fleet (profile.fleet_operator)
  - Status (is_active)
  - Last Login (last_login)

- **Row Actions**:
  - Click on row to navigate to user details page
  - Select checkboxes for bulk actions

### Bulk Actions
- **Activate Users**:
  - **API**: `PUT /api/users/users/{id}/` with `is_active: true`
  - **Bulk Implementation**: Update multiple users in sequence
  
- **Deactivate Users**:
  - **API**: `PUT /api/users/users/{id}/` with `is_active: false`
  - **Bulk Implementation**: Update multiple users in sequence
  
- **Reset Password**:
  - **API**: `POST /api/users/forgot_password/` (for each user)
  - **Bulk Implementation**: Send request for each selected user
  
- **Export Users**:
  - **Format**: CSV/Excel
  - **Content**: Selected users or filtered list

### Interaction Flow

1. **On Page Load**:
   - Fetch user statistics with `GET /api/users/users/?page_size=1` (for count)
   - Fetch active users with `GET /api/users/users/?is_active=true&page_size=1` (for count)
   - Fetch admin users with `GET /api/users/users/?is_staff=true&page_size=1` (for count)
   - Load users list with default filters

2. **Filter Application**:
   - When user selects filters and clicks Apply:
     - Construct query with selected parameters
     - Reload users table with filtered data
     - Update URL parameters for sharing filtered views

3. **Table Interactions**:
   - Click on user row to navigate to user detail view
   - Select checkboxes to enable bulk actions
   - Sort columns by clicking headers (using `ordering` parameter)

4. **Bulk Actions**:
   - Select multiple users via checkboxes
   - Click Bulk Actions dropdown and select action
   - Show confirmation dialog before execution
   - Execute selected action on all chosen users
   - Refresh table data after completion

### API Alignment
All API endpoints used in this implementation match the documentation in auth_users.md:
- List users: `GET /api/users/users/`
- User details: `GET /api/users/users/{id}/`
- Update user: `PUT/PATCH /api/users/users/{id}/`
- Forgot password: `POST /api/users/forgot_password/`
- Groups: `GET /api/users/groups/`
