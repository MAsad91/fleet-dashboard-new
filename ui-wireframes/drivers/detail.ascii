```
┌────────────────────────────────────────────────────────────────────────────────┐
│ HEADER                                                                         │
│  Fleet Admin > Drivers > Driver Detail                                     [👤]│
├──────────────┬─────────────────────────────────────────────────────────────────┤
│ SIDE NAV     │ DRIVER DETAIL                                                   │
│──────────────│                                                                 │
│   Dashboard  │ [◀ Back]  Jane Doe (jdoe)                                      │
│              │ Phone: +91-9876543210   License: ABC123     Status: Active      │
│   Vehicles   │                                                                 │
│ ▶ Drivers    │                           [Edit] [Suspend] [Delete]             │
│   Driver Docs│                                                                 │
│   Trips      │ KPI CARDS                                                       │
│   Telemetry  │ ┌────────────────┐ ┌────────────────┐ ┌────────────────────────┐ │
│   Alerts     │ │ Rating         │ │ Experience    │ │ Trips (completed, 30d) │ │
│   Alert Rules│ │                │ │               │ │                        │ │
│   OBD Devices│ │     4.8        │ │    6 years    │ │          18            │ │
│   SIM Cards  │ └────────────────┘ └────────────────┘ └────────────────────────┘ │
│   Maintenance│                                                                 │
│   Insurance  │ TABBED INTERFACE                                                │
│   Dashcams   │ ┌────────────────────────────────────────────────────────────┐  │
│   Firmware   │ │ [Overview] [Documents] [Trips] [Logs] [Alerts] [Performance]│  │
│   Analytics  │ ├────────────────────────────────────────────────────────────┤  │
│   Driver Logs│ │                                                            │  │
│   Performance│ │ OVERVIEW TAB                                               │  │
│   Settings   │ │ ┌────────────────────────────────────────────────────────┐ │  │
│   Users      │ │ │ DRIVER INFORMATION                                     │ │  │
│   Groups &   │ │ │                                                        │ │  │
│   Permissions│ │ │ • Fleet Operator: Acme Logistics (ID: 1) [View Operator]│ │  │
│              │ │ │ • Name: Jane Doe                                       │ │  │
│              │ │ │ • Username: jdoe                                       │ │  │
│              │ │ │ • Email: jane.doe@example.com                          │ │  │
│              │ │ │ • Phone: +91-9876543210                                │ │  │
│              │ │ │ • License Number: ABC123                               │ │  │
│              │ │ │ • Experience: 6 years                                  │ │  │
│              │ │ │ • Address: 123 Main St, Hyderabad                      │ │  │
│              │ │ │ • Date of Birth: 1990-04-12                            │ │  │
│              │ │ │ • Emergency Contact: Jane Doe, +91-9000000000          │ │  │
│              │ │ │ • Joined: 2022-05-17                                   │ │  │
│              │ │ │ • Status: Active                                       │ │  │
│              │ │ │ • Rating: 4.8                                          │ │  │
│              │ │ └────────────────────────────────────────────────────────┘ │  │
│              │ └────────────────────────────────────────────────────────────┘  │
│              │                                                                 │
└──────────────┴─────────────────────────────────────────────────────────────────┘
```

## API Implementation Guide

### Driver Detail Page

#### Core API Endpoints
- **Get Driver Details**: `GET /api/fleet/drivers/{id}/`
- **Update Driver**: `PATCH /api/fleet/drivers/{id}/update_driver/` (use this endpoint for driver-specific updates)
- **Suspend Driver**: `POST /api/fleet/drivers/suspend_drivers/` with body: `{"selected_drivers": [id]}`
- **Delete Driver**: `DELETE /api/fleet/drivers/{id}/`
- **Dashboard Stats**: `GET /api/fleet/drivers/dashboard_stats/` (for KPI metrics)

#### Field Map (API Accurate)
- Core fields: `id`, `fleet_operator`, `phone_number`, `license_number`, `experience_years`, `rating`, `status`, `date_joined`, `address`, `date_of_birth`, `emergency_contact`
- User fields (nested): `id`, `username`, `first_name`, `last_name`, `email`
- KPI data from combined sources:
  - Rating: from driver object
  - Experience: from driver's `experience_years`
  - Trips: count via `/api/fleet/trips/?driver={id}&status=completed&timeframe=30d`

## Tabbed Pages Detail

### Overview Tab
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ OVERVIEW TAB                                         [View Driver Profile →]│
├─────────────────────────────────────────────────────────────────────────────┤
│ DRIVER INFORMATION                                                         │
│ • Fleet Operator: Acme Logistics (ID: 1) [View Operator]                   │
│ • Name: Jane Doe                                                           │
│ • Username: jdoe                                                           │
│ • Email: jane.doe@example.com                                              │
│ • Phone: +91-9876543210                                                    │
│ • License Number: ABC123                                                   │
│ • Experience: 6 years                                                      │
│ • Address: 123 Main St, Hyderabad                                          │
│ • Date of Birth: 1990-04-12                                                │
│ • Emergency Contact: Jane Doe, +91-9000000000                              │
│ • Joined: 2022-05-17                                                       │
│ • Status: Active                                                           │
│ • Rating: 4.8                                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│ SAFETY STATISTICS                                                          │
│ ┌────────────────┐ ┌────────────────┐ ┌────────────────┐ ┌────────────────┐ │
│ │ Safety Score   │ │ Eco Score      │ │ Harsh Brakes   │ │ Avg. Speed     │ │
│ │ 92/100         │ │ 88/100         │ │ 2 (last 30d)   │ │ 47 kph         │ │
│ └────────────────┘ └────────────────┘ └────────────────┘ └────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘

API Endpoints:
- Driver data: GET /api/fleet/drivers/{id}/
- Safety statistics: GET /api/fleet/driver-performance/?driver={id}&latest=true
```

### Documents Tab
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ DOCUMENTS TAB                 [Upload Document] [View All Documents →]      │
├─────────────────────────────────────────────────────────────────────────────┤
│ DOCUMENT LIST                                                              │
│ ┌───────┬─────────┬──────────┬────────────┬─────────────┬─────────────────┐ │
│ │ Type  │ Number  │ Issued   │ Expires    │ Status      │ Actions         │ │
│ ├───────┼─────────┼──────────┼────────────┼─────────────┼─────────────────┤ │
│ │License│ ABC123  │2020-06-15│ 2025-06-14 │ Active      │ [View] [Download]│ │
│ │ID Card│ ID-456  │2021-03-22│ 2031-03-21 │ Active      │ [View] [Download]│ │
│ │Insur. │ INS-789 │2023-01-10│ 2024-01-09 │ Expiring    │ [View] [Download]│ │
│ └───────┴─────────┴──────────┴────────────┴─────────────┴─────────────────┘ │
│                                                                             │
│ Note: Documents expiring within 30 days are highlighted                     │
└─────────────────────────────────────────────────────────────────────────────┘

API Endpoints:
- Document List: GET /api/fleet/driver-documents/ (filter client-side by driver)
- Document Upload: POST /api/fleet/driver-documents/
- View Single Doc: GET /api/fleet/driver-documents/{doc_id}/
- Update Document: PATCH /api/fleet/driver-documents/{doc_id}/
- Delete Document: DELETE /api/fleet/driver-documents/{doc_id}/

Document Fields:
- driver (ID), doc_type, doc_number, issue_date, expiry_date, is_active, doc_file
- Aliases on write: document_type → doc_type, document_number → doc_number
```

### Trips Tab
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ TRIPS TAB                       [Filter ▼] [View All Driver Trips →]        │
├─────────────────────────────────────────────────────────────────────────────┤
│ [All] [In Progress] [Completed] [Cancelled]                                │
│                                                                             │
│ TRIPS LIST                                                                 │
│ ┌─────────┬─────────┬─────────────┬──────────┬─────────┬─────────────────┐  │
│ │ Trip ID │ Vehicle │ Date/Time   │ Duration │ Status  │ Actions         │  │
│ ├─────────┼─────────┼─────────────┼──────────┼─────────┼─────────────────┤  │
│ │T-2025-98│EV-9012  │2025-09-20   │ 2h 30m   │Completed│ [View Details]  │  │
│ │T-2025-87│EV-4523  │2025-09-19   │ 1h 45m   │Completed│ [View Details]  │  │
│ │T-2025-76│EV-8701  │2025-09-18   │ 3h 15m   │Completed│ [View Details]  │  │
│ │T-2025-63│EV-3456  │2025-09-17   │ 2h 10m   │Completed│ [View Details]  │  │
│ │T-2025-51│EV-9012  │2025-09-15   │ 0h 50m   │Completed│ [View Details]  │  │
│ └─────────┴─────────┴─────────────┴──────────┴─────────┴─────────────────┘  │
│                                                          Page 1/5 [◀][▶]  │
└─────────────────────────────────────────────────────────────────────────────┘

API Endpoints:
- GET /api/fleet/trips/?driver={id}&status=all|in_progress|completed|cancelled
- Pagination: page={page_number}&limit={items_per_page}

Trip Fields:
- id, trip_id, driver, vehicle, scheduled_start_time, scheduled_end_time
- actual_start_time, actual_end_time, distance_travelled_km, estimated_cost
- status, start_coordinate, end_coordinate
```

### Logs Tab
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ LOGS TAB                          [Filter ▼] [View All Driver Logs →]       │
├─────────────────────────────────────────────────────────────────────────────┤
│ [All] [Regular] [Events] [Date Range: Today ▼]                             │
│                                                                             │
│ ACTIVITY LOG                                                               │
│ ┌────────┬─────────────┬──────────┬──────────┬─────────────────┬──────────┐  │
│ │ Time   │ Trip        │ Vehicle  │ Event    │ Location        │ Actions  │  │
│ ├────────┼─────────────┼──────────┼──────────┼─────────────────┼──────────┤  │
│ │13:45:22│ T-2025-98   │ EV-9012  │ -        │ Gachibowli Road │[Details] │  │
│ │12:30:15│ T-2025-98   │ EV-9012  │ -        │ Hitech City     │[Details] │  │
│ │12:15:00│ T-2025-98   │ EV-9012  │ Start    │ Madhapur        │[Details] │  │
│ │09:45:38│ T-2025-87   │ EV-4523  │ End      │ Jubilee Hills   │[Details] │  │
│ │09:15:22│ T-2025-87   │ EV-4523  │ -        │ Banjara Hills   │[Details] │  │
│ │08:30:15│ T-2025-87   │ EV-4523  │ Start    │ Madhapur        │[Details] │  │
│ │07:45:10│ T-2025-76   │ EV-8701  │ End      │ HITEC City      │[Details] │  │
│ │07:15:38│ T-2025-76   │ EV-8701  │ -        │ Kondapur        │[Details] │  │
│ │06:30:22│ T-2025-76   │ EV-8701  │ -        │ Gachibowli      │[Details] │  │
│ │06:00:15│ T-2025-76   │ EV-8701  │ Start    │ Madhapur        │[Details] │  │
│ └────────┴─────────────┴──────────┴──────────┴─────────────────┴──────────┘  │
│                                                          Page 1/8 [◀][▶]  │
└─────────────────────────────────────────────────────────────────────────────┘

API Endpoints:
- GET /api/fleet/driver-logs/?driver={id}
- Filter options: event_type, trip_id, date_range, time_range
- Pagination: page={page_number}&limit={items_per_page}

Log Fields:
- id, trip, timestamp, coordinates (GeoJSON), speed_kph, heading, event_type
```

### Alerts Tab
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ ALERTS TAB                        [Filter ▼] [View All Driver Alerts →]     │
├─────────────────────────────────────────────────────────────────────────────┤
│ [Active] [Resolved] [All]                                                  │
│                                                                             │
│ ACTIVE ALERTS                                                              │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │ No active alerts for this driver.                                       │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ALERT HISTORY                                                              │
│ ┌────────┬─────────┬─────────────────────────┬──────────┬────────────────┐  │
│ │ Sev.   │ Date    │ Message                 │ Status   │ Actions        │  │
│ ├────────┼─────────┼─────────────────────────┼──────────┼────────────────┤  │
│ │ Medium │ 09/12/25│ Harsh braking detected  │ Resolved │ [View Details] │  │
│ │ Low    │ 09/05/25│ Speeding warning        │ Resolved │ [View Details] │  │
│ └────────┴─────────┴─────────────────────────┴──────────┴────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────┘

API Endpoints:
- GET /api/fleet/alerts/?status=active|resolved|all (filter client-side by driver)
- Alert Details: GET /api/fleet/alerts/{alert_id}/
- Mark Read: POST /api/fleet/alerts/mark_read/ with body: {"alert_ids": [ids]}
- Resolve Alert: POST /api/fleet/alerts/resolve_alert/ with body: {"alert_ids": [ids]}

Alert Fields:
- id, alert_type, system, driver, vehicle, title, message
- created_at, severity, read, ignored, resolved, status_label
```

### Performance Tab (Admin Only)
```
┌─────────────────────────────────────────────────────────────────────────────┐
│ PERFORMANCE TAB (Admin Only)   [Date Range ▼] [View Full Performance →]     │
├─────────────────────────────────────────────────────────────────────────────┤
│ KEY METRICS                                                                │
│ ┌────────────────┐ ┌────────────────┐ ┌────────────────┐ ┌────────────────┐ │
│ │ Safety Score   │ │ Eco Score      │ │ Rating         │ │ Trips Completed│ │
│ │ 92/100         │ │ 88/100         │ │ 4.8/5.0        │ │ 187            │ │
│ └────────────────┘ └────────────────┘ └────────────────┘ └────────────────┘ │
│                                                                             │
│ PERFORMANCE HISTORY                                                        │
│ ┌─────────────────────────────────────────────────────────────────────────┐ │
│ │                                                                         │ │
│ │  [Performance metrics chart over time]                                  │ │
│ │                                                                         │ │
│ └─────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ PERFORMANCE BREAKDOWN                                                      │
│ ┌─────────────┬─────────────┬──────────────┬──────────┬─────────────────┐   │
│ │ Period      │ Avg Speed   │ Distance     │ Harsh    │ Accidents       │   │
│ │             │ (kph)       │ (km)         │ Brakes   │                 │   │
│ ├─────────────┼─────────────┼──────────────┼──────────┼─────────────────┤   │
│ │ Last Month  │ 47          │ 2,450        │ 2        │ 0               │   │
│ │ Last Quarter│ 45          │ 7,320        │ 5        │ 0               │   │
│ │ Last Year   │ 44          │ 28,980       │ 18       │ 1               │   │
│ └─────────────┴─────────────┴──────────────┴──────────┴─────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘

API Endpoints:
- GET /api/fleet/driver-performance/?driver={id}
- Optional parameters: period_start=YYYY-MM-DD&period_end=YYYY-MM-DD for date filtering
- Time Period Summaries: GET /api/fleet/driver-performance/?driver={id}&period=month|quarter|year
- Note: This tab should only be visible to users with admin privileges

Performance Fields:
- id, driver, period_start, period_end, average_speed_kph, distance_covered_km 
- number_of_harsh_brakes, number_of_accidents, safety_score, eco_score, created_at
```

### Important Implementation Notes

1. **Driver Status Management:**
   - The "Suspend" action should be implemented using: `POST /api/fleet/drivers/suspend_drivers/` with body: `{"selected_drivers": [driver_id]}`

2. **Document Type Validation:**
   - When uploading documents, ensure validation of `doc_type` field against accepted document types
   - Note that there are field aliases: `document_type` → `doc_type`, `document_number` → `doc_number`

3. **Access Control:**
   - Performance tab should only be visible to admin users
   - Implement proper permission checks on all admin-only actions

4. **Data Filtering Approaches:**
   - For alerts, driver docs, and some other sections, the backend doesn't support direct filtering by driver
   - Use client-side filtering instead as noted in API calls

5. **Related Data Fetching:**
   - Fetch trip counts via `/api/fleet/trips/?driver={id}&status=completed&timeframe=30d`
   - Ensure progressive loading of related data to optimize performance
