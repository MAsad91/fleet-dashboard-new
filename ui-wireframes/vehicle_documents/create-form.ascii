```
┌────────────────────────────────────────────────────────────────────────────────┐
│ HEADER                                                                         │
│  Fleet Admin > Vehicle Documents > Create Document                         [👤]│
├────────────────────────────────────────────────────────────────────────────────┤
│                                                                                │
│ CREATE VEHICLE DOCUMENT                                                        │
│ ┌────────────────────────────────────────────────────────────────────────────┐ │
│ │ Basic Information                                                         │ │
│ ├────────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                            │ │
│ │ Vehicle*                                   Document Type*                  │ │
│ │ ┌─────────────────────────────────┐        ┌─────────────────────────┐     │ │
│ │ │ Select Vehicle...             ▾ │        │ Select Type...        ▾ │     │ │
│ │ └─────────────────────────────────┘        └─────────────────────────┘     │ │
│ │ Note: Select from available vehicles        Options: Registration, Insurance,│ │
│ │                                            Battery Test, Software, Warranty, │ │
│ │                                            Other                            │ │
│ │                                                                            │ │
│ │ Document Number                            Active Status                   │ │
│ │ ┌─────────────────────────────────┐        ┌─────────────────────────┐     │ │
│ │ │                                 │        │ [✓] Document is active   │     │ │
│ │ └─────────────────────────────────┘        └─────────────────────────┘     │ │
│ │ Example: REG-123456, POL-789                                               │ │
│ │                                                                            │ │
│ └────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                │
│ ┌────────────────────────────────────────────────────────────────────────────┐ │
│ │ Document Dates                                                            │ │
│ ├────────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                            │ │
│ │ Issue Date                                 Expiry Date                     │ │
│ │ ┌─────────────────────────────────┐        ┌─────────────────────────┐     │ │
│ │ │ YYYY-MM-DD                      │        │ YYYY-MM-DD              │     │ │
│ │ └─────────────────────────────────┘        └─────────────────────────┘     │ │
│ │ Note: When the document was issued          Note: When the document expires │ │
│ │                                             Leave blank if no expiration    │ │
│ │                                                                            │ │
│ └────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                │
│ ┌────────────────────────────────────────────────────────────────────────────┐ │
│ │ Document File                                                             │ │
│ ├────────────────────────────────────────────────────────────────────────────┤ │
│ │                                                                            │ │
│ │ Upload Document                                                            │ │
│ │ ┌─────────────────────────────────────────────────────────────────────┐    │ │
│ │ │ [Select File]       No file selected                                │    │ │
│ │ └─────────────────────────────────────────────────────────────────────┘    │ │
│ │                                                                            │ │
│ │ Supported Formats: PDF, JPG, PNG                                           │ │
│ │ Maximum Size: 10MB                                                         │ │
│ │                                                                            │ │
│ └────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                │
│                                         [Cancel]   [Create Document]           │
│                                                                                │
└────────────────────────────────────────────────────────────────────────────────┘
```

## Implementation Guide

### Data Sources

#### Basic Information

- **Vehicle*** (dropdown):
  - **API**: `GET /api/fleet/vehicles/`
  - **Display**: License plate, make, model
  - **Value**: Vehicle ID
  - **Required**: Yes

- **Document Type*** (dropdown):
  - **Options**: Registration, Insurance, Battery Test, Software, Warranty, Other
  - **Required**: Yes

- **Document Number** (text):
  - **Description**: Identifier for the document
  - **Example**: REG-123456, POL-789
  - **Required**: No

- **Active Status** (checkbox):
  - **Field**: is_active
  - **Default**: Checked (true)
  - **Required**: No (defaults to true)

#### Document Dates

- **Issue Date** (date picker):
  - **Format**: YYYY-MM-DD
  - **Description**: When the document was issued
  - **Required**: No

- **Expiry Date** (date picker):
  - **Format**: YYYY-MM-DD
  - **Description**: When the document expires
  - **Required**: No
  - **Note**: Leave blank for documents without expiration

#### Document File

- **Upload Document** (file input):
  - **Field**: doc_file
  - **Required**: No
  - **Formats**: PDF, JPG, PNG
  - **Size Limit**: 10MB
  - **Note**: Uses multipart form encoding

### Form Submission

- **API Endpoint**: `POST /api/fleet/vehicle-documents/`
- **Encoding**: multipart/form-data (if file is included)
- **Request Body**:
  ```json
  {
    "vehicle": 5,
    "doc_type": "insurance",
    "doc_number": "POL-123",
    "issue_date": "2024-01-15",
    "expiry_date": "2025-01-15",
    "is_active": true,
    "doc_file": <file_data>
  }
  ```

### Edit Form Behavior

When using the same form for editing:

- **API Endpoint**: `PUT/PATCH /api/fleet/vehicle-documents/{id}/`
- **Pre-population**: Fetch document details and populate all form fields
- **File Handling**: Show current file name if present; option to replace
- **Button Label**: Change to "Update Document"

### Validation Rules

- **Required Fields**: Vehicle and Document Type are required
- **Unique Constraint**: The combination of (vehicle, doc_type, doc_number) must be unique
- **Date Validation**: Issue date should be before expiry date
- **File Validation**: Check file type and size limits

### User Experience

- **Form Layout**: Group related fields together in sections
- **Field Order**: Arrange from most to least important
- **Help Text**: Provide examples for complex fields
- **Error Messages**: Display inline with fields
- **Required Fields**: Visually indicate which fields are required
- **File Upload**: Simple file picker with drag-and-drop support if possible

### After Submission

- **Success**: Redirect to document detail page with success message
- **Error**: Show validation errors inline with fields and summary at top
- **Unique Constraint Error**: Clear message if the document already exists
